<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ubicaciones - Holding</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}" />
        <!--AGREGO FILTROS A LA VISTA -->
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
</head>
</head>
<body>
    <div th:replace="~{navbar :: navbar}"></div>


    <div class="container mt-1 col-5">
        <h3>Ciudades</h3>
        <div>
            <a th:href="@{/admin/empresas/ubicaciones/formularioCiudad}"
               class="btn btn-info btn-sm mt-1">
                Agregar Ciudad
            </a>
            <a th:href="@{/admin/empresas/ubicaciones/formularioPais}"
               class="btn btn-info btn-sm mt-1">
                Agregar Pais
            </a>
        </div>        
        <table class="table table-bordered table-striped" id="tablaCiudades">
            <thead class="table-dark">
                <tr>
                    <th class="col-3" style="text-align: center;">Nombre</th>
                    <th class="col-3" style="text-align: center;">Pais</th>
                    <th class="col-6" style="text-align: center;">ABM</th>
                </tr>
            </thead>

            <tbody>
                <tr th:each="ciudad : ${ciudades}">
                    <td th:text="${ciudad.nombre}"></td>
                    <td th:text="${ciudad.pais_ciudad.nombre}">N/A</td>

                    <td>
                        <a th:href="@{/admin/empresas/ubicaciones/actualizar(idTemporal=${ciudad.id})}" class="btn btn-info btn-sm ms-1 mb-3 col-5">
                            Actualizar Ciudad</a>
                        <a th:href="@{/admin/empresas/ubicaciones/actualizarPais(idTemporal=${ciudad.pais_ciudad.id})}" class="btn btn-info btn-sm  ms-1 mb-3 col-5">
                            Modificar Pais</a>
                        <a th:href="@{/admin/empresas/ubicaciones/eliminarCiudad(idTemporal=${ciudad.id})}"
                        class="btn btn-danger btn-sm ms-1 mb-3 col-5"
                        onclick="if (! (confirm('Seguro desea eliminar el registro?'))) return false">Eliminar</a>
                    </td>

                </tr>
            </tbody>

        </table>
    </div>

 <!--AGREGO FILTROS A LA VISTA -->
   <script>
    $(document).ready(function() {
        $('#tablaCiudades').DataTable(
            {"language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.25/i18n/Spanish.json"
        }}
        );
    });
    
</script>
</body>
</html>